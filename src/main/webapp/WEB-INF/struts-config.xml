<?xml version="1.0" encoding="UTF-8"?> 

<!DOCTYPE struts-config PUBLIC
          "-//Apache Software Foundation//DTD Struts Configuration 1.3//EN"
          "http://struts.apache.org/dtds/struts-config_1_3.dtd">

<struts-config>

	<form-beans>
		<form-bean name="NewsForm" type="by.epam.news.presentation.form.NewsForm" />
	</form-beans>

	<global-exceptions>
		<exception key="error.global.mesage" type="java.io.Exception"
			path="/view/errors/fatal.jsp" />
	</global-exceptions>

	<global-forwards>
		<forward name="NewsView" path="/NewsView.do" />
		<forward name="ListNews" path="/ListNews.do" />
		<forward name="ViewNews" path="/ViewNews.do" />
		<forward name="AddNews" path="/AddNews.do" />
		<forward name="CreateNews" path="/CreateNews.do" />
		<forward name="DeleteNews" path="/DeleteNews.do" />
	</global-forwards>



	<action-mappings>

		<action path="/ListNews" type="by.epam.news.presentation.action.NewsAction"
			parameter="list" name="NewsForm">
			<forward name="list" path="allNewsPage" redirect="false" />
		</action>

		<action path="/AddNews" type="by.epam.news.presentation.action.NewsAction"
			parameter="add" scope="request" name="NewsForm" input="ListNews">
			<forward name="add" path="addNewsPage" redirect="false" />
		</action>

		<action path="/NewsView" type="by.epam.news.presentation.action.NewsAction"
			parameter="view" name="NewsForm" input="ListNews">
			<forward name="view" path="showNewsPage" redirect="false" />
		</action>

		<action path="/CreateNews" type="by.epam.news.presentation.action.NewsAction"
			parameter="create" cancellable="true" name="NewsForm" input="AddNews">
			<forward name="list" path="/ListNews.do" redirect="true" />
			<forward name="view" path="/NewsView.do" redirect="true" />
		</action>

		<action path="/DeleteNews" type="by.epam.news.presentation.action.NewsAction"
			parameter="delete" name="NewsForm" input="NewsView">
			<forward name="list" path="/ListNews.do" redirect="true" />
		</action>

		<action path="/Locale" type="by.epam.news.presentation.action.NewsAction"
			parameter="locale" name="NewsForm">
			<forward name="list" path="/ListNews.do" redirect="true" />
		</action>

	</action-mappings>

	<controller
		processorClass="org.springframework.web.struts.DelegatingTilesRequestProcessor" />

	<message-resources parameter="by.epam.news.properties.News" />


	<plug-in className="org.apache.struts.tiles.TilesPlugin">
		<set-property property="definitions-config" value="/WEB-INF/tiles-defs.xml" />
	</plug-in>


	<plug-in className="org.springframework.web.struts.ContextLoaderPlugIn">
		<set-property property="contextConfigLocation" value="/WEB-INF/classes/SpringBeans.xml" />
	</plug-in>

</struts-config>